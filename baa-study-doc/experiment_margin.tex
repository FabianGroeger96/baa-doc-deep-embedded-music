\documentclass[twocolumn]{article}
\setlength{\columnsep}{20pt}
%\usepackage{url}
%\usepackage{algorithmic}
\usepackage[a4paper]{geometry}
\usepackage{datetime}
\usepackage[font=small,labelfont=it]{caption}
\usepackage{graphicx}
% Use Times NR as font
\usepackage{lmodern}
\usepackage[T1]{fontenc}

\usepackage{float}

% Better tables
\usepackage{tabularx}
% to make beautiful tables
\usepackage{booktabs}

\usepackage{microtype}
\usepackage{amsmath}
\usepackage{subfigure}

% Letterspacing macros
\newcommand{\spacecaps}[1]{\textls[200]{\MakeUppercase{#1}}}
\newcommand{\spacesc}[1]{\textls[50]{\textsc{\MakeLowercase{#1}}}}

\title{\spacecaps{Study doc: margin experiment}\\ \normalsize \spacesc{how does the margin affect the embedding space}}

\author{Fabian Gr√∂ger\\fabian.groeger@stud.hslu.ch}
\date{\today}

\begin{document}
\maketitle

\begin{abstract}
This experiment aims to show the affect of changing the margin $\alpha$ within a triplet loss on the DCASE dataset.
\end{abstract}


\section{Introduction}
A very important hyperparameter when training a triplet loss is the margin, denoted as $\alpha$. The margin makes sure that the network is not allowed to output the trivial solution, where all the embeddings vectors are zero or contain the same values. Within the triplet loss function it is used to put a limit on how far the network can push the negative sample away to improve the loss. Thus the distance of the negative sample has to be greater than the distance from the anchor to the positive sample plus the margin $\alpha$. This experiment aims to show the importance of the margin as well as to find the optimal one for the DCASE dataset.

\section{Hyperparameters}
%
The hyperparameters used for this experiment are shown in table \ref{tab:Hyperparameters}. The margin will be evaluated using a state of the art ResNet18 architecture on the DCASE dataset. The hyperparameters in section \textit{Feature representation} as well as the sample rate are the default ones proposed by the organisers of the DCASE challenge within the baseline project. The margin will be evaluated for six different values \texttt{[0.3, 0.5, 0.7, 1, 2, 10]}.

\begin{table}[H]
    \centering
    \caption{Hyperparameters used for the experiment}
	\label{tab:Hyperparameters}
    \begin{tabular}{l|l}
        \toprule
        \textbf{Hyperparameter} & \textbf{value} \\ 
        \midrule[1pt]
        Dataset & DCASE \\
        \hline
        Model & ResNet18 \\ 
        \hline
        Epochs & 10 \\ 
        \hline
        Batch size & 256 \\ 
        \hline
        Learning rate & 1e-3 \\
        \hline
        Margin & [0.3, 0.5, 0.7, 1, 2, 10] \\
        \hline
        Embedding dimension & 512 \\
        \hline
        Prefetch batches & 2048 \\ 
        \hline
        Random selection buffer & 64 \\ 
        \hline
        Shuffle dataset & True \\
        \midrule[1pt]
        \multicolumn{2}{l}{\textit{Multi threading}} \\
        \midrule[1pt]
        Number of generators & 16 \\ 
        \hline
        Number of parallel calls & 16 \\
        \midrule[1pt]
        \multicolumn{2}{l}{\textit{Audio sample}} \\
        \midrule[1pt]
        Sample rate & 16000 \\ 
        \hline
        Sample size & 10 \\
        \hline
        Sample tile size & 2 \\
        \hline
        Sample tile range & 4 \\
        \hline
        Convert to mono & True \\
        \midrule[1pt]
        \multicolumn{2}{l}{\textit{Feature representation}} \\
        \midrule[1pt]
        Feature extractor & LogMelExtractor \\ 
        \hline
        Frame length & 480 \\
        \hline
        Frame step & 160 \\
        \hline
        FFT size & 1024 \\
        \hline
        Number of Mel bins & 128 \\
        \hline
        Number of MFCC bins & 13 \\
        \bottomrule
    \end{tabular}
\end{table}

\section{Results}

The point of the results section is to provide detailed information regarding the output of the lab. This section is often dominated by tables and screenshots. Make sure that each screenshot has a purpose and the purpose is communicated to the reader! You should show at least 2 figures for grade 3, 3 for grade 4 and 4 for grade 5. The \emph{Results} and \emph{Conclusion} sections together should result in 1 A4 page if you aim for a 3, 1.5 pages if you aim for a 4 and 2 A4 pages for a 5 (including Figures).

Your grade will not benefit from putting unnecessary screenshots just to fill the blank paper! Also remember that every figure needs a meaningful caption as in Figure~\ref{fig:demo}. Note how captions can be used to direct the reader towards the interesting bits of an image. The image should be understood by only reading the caption. Also, there is a package in latex that allows you to put images / figures / screenshots next to each other, its called \emph{subfigure} and used in the example in Figure~\ref{fig:demo}.

Much of the validation of the course labs is done through visual output. Screenshots are encouraged, but make sure they provide some useful insights. A two- or three-way comparison (perhaps with some particularly interesting part zoomed in) is typically a great way to present a single task. In case the tasks main output are numbers, make sure you include them, as this is typically a great way to compare, for example, performance, deviation from analytical solutions, e.g. surface area, volume, problem sizes and so on. As an example: \emph{In table 1.1 we show the area of different meshes using our implementation.}

\begin{figure}[t]
\centering
    \subfigure[]{\includegraphics[width=.3\linewidth]{fig/flat.png}\label{fig:demo-standard}}
    \subfigure[]{\includegraphics[width=.3\linewidth]{fig/smooth.png}\label{fig:demo-fancy}}
    \caption{Result from task X showing \subref{fig:demo-standard} standard rendering compared to fancy rendering in \subref{fig:demo-fancy}. Notice the improved smoothness of the fancy rendering which was achieved through the use of Equation~\ref{eq:abc} and \emph{knowledge}. Shading is typically a trade-off between computation time and visual quality.}
    \label{fig:demo}
\end{figure}


\section{Conclusion}
For higher grades it is important that you not only solve the assignments but also discuss your findings. This will show your level of comprehension of the lab and is an important ingredient when assessing the lab report.

When discussing your results try to compare against known constants and expressions. For example the volume of a sphere is well known and can be compared against: \emph{We found the volume of the approximated sphere mesh (a) to be within the xy error margin. With higher tessellation the error is reduced by xy.}

If something is known or has been measured, it goes in \emph{Results}. If something is situational/conditional or requires reasoning or discussion, it goes in \emph{Conclusions}.

Your reports \textbf{total number} of pages should be equal to the grade you are aiming for.

\section{Next steps}
For the records, give the name of your lab partner, if you have one. This section should also contain the grade you are aiming for.

\nocite{*}
\bibliographystyle{plain}
\bibliography{references}
\end{document}

